

# ייצוא נתונים + מדריך ייבוא ל-Supabase

## מה נבנה
כפתור **"ייצוא נתונים"** בדשבורד שמוריד קובץ JSON עם כל הנתונים של המשתמש המחובר (פריטים, קטגוריות, חדרים, וקבצים מצורפים).

## נתונים קיימים
- **44 פריטים** (items)
- **29 קטגוריות** (categories)
- **18 חדרים** (rooms)
- **1 קובץ מצורף** (item_files)

## מה ייכלל בקובץ הייצוא
```text
{
  "exported_at": "2026-02-24T...",
  "categories": [...],
  "rooms": [...],
  "items": [...],
  "item_files": [...]
}
```

## שלבי הביצוע

### 1. יצירת כפתור ייצוא בדשבורד
- הוספת כפתור "ייצוא נתונים" בדף Dashboard
- בלחיצה — שואב את כל הנתונים של המשתמש המחובר ומוריד קובץ JSON

### 2. לוגיקת הייצוא
- שליפת כל הטבלאות (categories, rooms, items, item_files) מהמסד נתונים
- בניית אובייקט JSON מסודר
- הורדה אוטומטית כקובץ `homevault-export-YYYY-MM-DD.json`

### 3. עדכון תרגומים
- הוספת טקסט "ייצוא נתונים" בעברית, אנגלית ורוסית

---

## מדריך: איך לייבא את הנתונים ל-Supabase

אחרי שיש לך את קובץ ה-JSON, ככה מייבאים ל-Supabase חדש:

### שלב 1 — יצירת פרויקט Supabase
- היכנסי ל-[supabase.com](https://supabase.com) וצרי פרויקט חדש

### שלב 2 — יצירת הטבלאות
- ב-SQL Editor של Supabase, הריצי את קבצי ה-migration מהתיקייה `supabase/migrations/` בסדר הבא:
  1. `20260208175511_...sql`
  2. `20260208183748_...sql`
  3. `20260222122225_...sql`
  4. `20260222141954_...sql`
  5. `20260222175338_...sql`

### שלב 3 — ייבוא הנתונים
- ב-SQL Editor, השתמשי בפקודות INSERT עם הנתונים מקובץ ה-JSON
- לחילופין, אפשר להשתמש ב-Table Editor של Supabase לייבא CSV

### שלב 4 — עדכון הקוד
- עדכני את משתני `SUPABASE_URL` ו-`SUPABASE_ANON_KEY` לערכים של הפרויקט החדש

---

## פרטים טכניים

### קובץ חדש
- `src/components/ExportData.tsx` — כפתור + לוגיקת ייצוא

### קבצים שישתנו
- `src/pages/Dashboard.tsx` — הוספת כפתור הייצוא
- `src/i18n/locales/he.json` — תרגום עברית
- `src/i18n/locales/en.json` — תרגום אנגלית
- `src/i18n/locales/ru.json` — תרגום רוסית

